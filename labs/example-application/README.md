# ğŸ¯ Sample Applications Instrumented for SigNoz

This directory contains fully instrumented sample applications that send logs, metrics, and traces to SigNoz.

## ğŸ“‹ Index

- [Node.js + Express](#nodejs--express)
- [Python + Flask](#python--flask)
- [Instrumentation Concepts](#instrumentation-concepts)
- [How It Works](#how-it-works)

---

## ğŸŸ¢ Node.js + Express

### Application Structure

```
app-nodejs/
â”œâ”€â”€ package.json          # Dependencies
â”œâ”€â”€ server.js             # Main application
â”œâ”€â”€ instrumentation.js    # âš¡ OpenTelemetry instrumentation
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ api.js           # API routes
â””â”€â”€ README.md            # App-specific instructions
```

### How to Run

```bash
cd app-nodejs
npm install
npm start
```

The application will run at http://localhost:3000

**Available endpoints:**
- `GET /api/health` â€“ Health check
- `GET /api/users` â€“ List users
- `GET /api/users/:id` â€“ Fetch a specific user
- `POST /api/users` â€“ Create a new user
- `GET /api/products` â€“ List products (simulates errors)
- `GET /api/slow` â€“ Slow endpoint (for metrics demos)

---

## ğŸ Python + Flask

### Application Structure

```
app-python/
â”œâ”€â”€ requirements.txt      # Python dependencies
â”œâ”€â”€ app.py                # Main application
â”œâ”€â”€ instrumentation.py    # âš¡ OpenTelemetry instrumentation
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ api.py           # API routes
â””â”€â”€ README.md            # App-specific instructions
```

### How to Run

```bash
cd app-python
pip install -r requirements.txt
python app.py
```

The application will run at http://localhost:5000

**Available endpoints:**
- `GET /api/health` â€“ Health check
- `GET /api/users` â€“ List users
- `GET /api/users/<id>` â€“ Fetch a specific user
- `POST /api/users` â€“ Create a new user
- `GET /api/random-error` â€“ Generate a random error
- `GET /api/slow` â€“ Slow endpoint

---

## ğŸ“š Instrumentation Concepts

### 1. OpenTelemetry (OTEL)

**What is it?** A standardized framework for collecting telemetry data (logs, metrics, traces) from applications.

**Core components:**
- **Instrumentation**: Code that collects data from your app
- **Exporters**: Send data to backends (like SigNoz)
- **Collector**: Receives and processes data (OTel Collector)
- **SDKs**: Language-specific libraries

### 2. The Three Pillars of Observability

#### ğŸ“Š **LOGS**
- **What**: Events happening within the application
- **When to use**: Debug, auditing, flow tracking
- **Example**: â€œUser createdâ€, â€œPayment processing errorâ€

#### ğŸ“ˆ **METRICS**
- **What**: Numerical values measured over time
- **When to use**: Performance and application health
- **Example**: Requests per second, response time, CPU usage

#### ğŸ” **TRACES**
- **What**: A request flowing through multiple services
- **When to use**: Debugging issues in distributed systems
- **Example**: Trace of an HTTP request across API, DB, cache

### 3. How the Data Flows

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Your App       â”‚
â”‚  (Node/Python)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1. Data generated by the OpenTelemetry SDK
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OTel Collector          â”‚
â”‚  (port 4317 or 4318)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 2. Processes and forwards data
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ClickHouse              â”‚
â”‚  (Database)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 3. Stores telemetry
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SigNoz Frontend         â”‚
â”‚  (Visualization)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ How It Works

### Step 1: Install OpenTelemetry

**Node.js:**
```javascript
npm install @opentelemetry/api
npm install @opentelemetry/sdk-node
npm install @opentelemetry/exporter-otlp-grpc
// Auto instrumentation for popular libraries
npm install @opentelemetry/instrumentation-http
npm install @opentelemetry/instrumentation-express
```

**Python:**
```python
pip install opentelemetry-api
pip install opentelemetry-sdk
pip install opentelemetry-exporter-otlp-proto-grpc
# Auto instrumentation
pip install opentelemetry-instrumentation-flask
pip install opentelemetry-instrumentation-requests
```

### Step 2: Configure the SDK

The OpenTelemetry SDK must understand:
1. **Where to send the data**: OTel Collector endpoint
2. **What to collect**: Logs, metrics, traces
3. **How to structure it**: Attributes, context

### Step 3: Auto Instrumentation

Magic! OpenTelemetry automatically instruments:
- âœ… HTTP libraries
- âœ… Web frameworks (Express, Flask)
- âœ… Database calls
- âœ… Redis
- âœ… Kafka
- âœ… And many more!

All without changing your application code.

### Step 4: Send Data

Data is automatically sent to:
- **Endpoint**: `http://localhost:4317` (gRPC)
- **Protocol**: OTLP (OpenTelemetry Protocol)
- **Format**: gRPC

---

## ğŸ“ Next Steps

1. âœ… Run the sample applications  
2. âœ… Visit http://localhost:8080 to explore SigNoz  
3. âœ… Inspect Traces, Metrics, and Logs  
4. ğŸ”§ Adapt the instrumentation to your services  
5. ğŸ“š Read the [official documentation](https://signoz.io/docs/)  

## ğŸ“– Additional Resources

- [OpenTelemetry Docs](https://opentelemetry.io/docs/)
- [SigNoz Instrumentation Guide](https://signoz.io/docs/instrumentation/)
- [OTLP Protocol](https://opentelemetry.io/docs/specs/otlp/)

